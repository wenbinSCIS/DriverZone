<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Betler Multipurpose Forms HTML Template">
    <meta name="author" content="Ansonika">
    <title>Signup</title>

    <!-- Favicons-->
    <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" type="../image/x-icon" href="img/apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon" type="../image/x-icon" sizes="72x72" href="img/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon" type="../image/x-icon" sizes="114x114" href="img/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon" type="../image/x-icon" sizes="144x144" href="img/apple-touch-icon-144x144-precomposed.png">

    <!-- GOOGLE WEB FONT -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- BASE CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/loginvendors.css" rel="stylesheet">
    <link href="../css/loginstyle.css" rel="stylesheet">
	<link href="../css/insertuser.css" rel="stylesheet">


    <!-- YOUR CUSTOM CSS -->
    <link href="../css/custom.css" rel="stylesheet">

    <style>

        #female{
            margin-left:10%;
        }
    </style>

<script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-database.js"></script>
</head>

<body>
	
	<div id="preloader">
		<div data-loader="circle-side"></div>
	</div><!-- /Preload -->
	
	<div id="loader_form">
		<div data-loader="circle-side-2"></div>
	</div><!-- /loader_form -->

	<div class="container-fluid p-0">
	    <div class="row no-gutters row-height">
	        <div class="col-lg-6 background-image" data-background="url(../images/carousel2.jpg)">
	            <div class="content-left-wrapper opacity-mask" data-opacity-mask="rgba(0, 0, 0, 0.6)">
	               
	               
	                <!-- /social -->
	                <div>
	                    <h1>Driver Zone Registration</h1>
	                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
	                    
	                </div>
	            </div>
	        </div>
	        <div class="col-lg-6 d-flex flex-column content-right">
	            <div class="container my-auto py-5">
	                <div class="row">
	                    <div class="col-lg-9 col-xl-7 mx-auto">
	                        <h4 class="mb-3">Sign Up</h4>
	                        <div class="form">
	                        	<input id="website" name="website" type="text" value="">
								<!-- Leave for security protection, read docs for details -->
								<div class="form-group">
	                                <label for="full_name">Full Name</label>
	                                <input type="text" name="full_name" id="full_name" class="form-control" required>
	                            </div>
                                <div class="form-group">
	                                <label for="nric">NRIC</label>
	                                <input type="text" name="nric" id="nric" class="form-control" required>
	                            </div>
                                <div class="form-group">
	                                <input type="radio" id="male" name="gender" value="male" required>
                                    <label for="male">Male</label>
                                    <input type="radio" id="female" name="gender" value="female" required>
                                    <label for="female">Female</label>
	                            </div>
	                            <div class="form-group">
	                                <label for="email_address">Email Address</label>
	                                <input type="email" name="email_address" id="email_address" class="form-control" required>
	                            </div>
								<div class="form-group">
	                                <label for="phone_num">Phone Number</label>
	                                <input type="text" name="phone_num" id="phone_num" class="form-control" required>
	                            </div>
	                            <div class="form-group">
	                                <label for="password1">Password</label>
	                                <input type="password" name="password1" id="password1" class="form-control">
	                            </div>
	                            <div class="form-group">
	                                <label for="password2">Confirm Password</label>
	                                <input type="password" name="password2" id="password2" class="form-control">
	                            </div>
	                            <div id="pass-info" class="clearfix"></div>
	                                <div class="mb-4 terms">
	                                    <label class="container_check">I agree to the <a href="#" data-toggle="modal" data-target="#terms-txt">Terms and Privacy Policy</a>.
	                                        <input type="checkbox" name="agree" id="agree" value="Yes" required>
	                                        <span class="checkmark"></span>
	                                    </label>
	                                </div>
	                            <button type="submit" class="btn_1 full-width submit" onclick="subz()">Sign Up</button>
	                        </form>
	                        <p class="text-center mt-3 mb-0">Already have an account? <a href="login.html">Sign In</a></p>
	                    </div>
	                </div>
	            </div>
	       
	        </div>
	    </div>
	    <!-- /row -->
	</div>
	<!-- /container -->

	<!-- Modal terms -->
	<div class="modal fade" id="terms-txt" tabindex="-1" role="dialog" aria-labelledby="termsLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="termsLabel">Terms and conditions</h4>
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body">
					<p>Lorem ipsum dolor sit amet, in porro albucius qui, in <strong>nec quod novum accumsan</strong>, mei ludus tamquam dolores id. No sit debitis meliore postulant, per ex prompta alterum sanctus, pro ne quod dicunt sensibus.</p>
					<p>Lorem ipsum dolor sit amet, in porro albucius qui, in nec quod novum accumsan, mei ludus tamquam dolores id. No sit debitis meliore postulant, per ex prompta alterum sanctus, pro ne quod dicunt sensibus. Lorem ipsum dolor sit amet, <strong>in porro albucius qui</strong>, in nec quod novum accumsan, mei ludus tamquam dolores id. No sit debitis meliore postulant, per ex prompta alterum sanctus, pro ne quod dicunt sensibus.</p>
					<p>Lorem ipsum dolor sit amet, in porro albucius qui, in nec quod novum accumsan, mei ludus tamquam dolores id. No sit debitis meliore postulant, per ex prompta alterum sanctus, pro ne quod dicunt sensibus.</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn_1" data-dismiss="modal">Close</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	
	<!-- COMMON SCRIPTS -->
    <script src="../js/common_scripts.js"></script>
	<script src="../js/common_func.js"></script>

	<!-- SPECIFIC SCRIPTS -->
	<script src="../js/pw_strength.js"></script>
	<script src="../js/jquery.validate.js"></script>
	
	<script src="../js/insertuser.js"></script>
	
	<script>
	function subz(){
		var result = 0;
		var count = 0;
		var msg = "";
		var nric = document.getElementById("nric").value;
		var pnum = document.getElementById("phone_num").value;
		var email = document.getElementById("email_address").value;

		var password1 = document.getElementById("password1").value;
		var password2 = document.getElementById("password2").value;


		result = validateNRIC(nric);
		if(result===false){
			msg += "Please enter a valid NRIC\n";
			count +=1;
		}

		result = checkPhoneNum(pnum);
		if(result===false){
			msg += "Please enter a valid Phone Number\n";
			count +=1;
		}

		result = ValidateEmail(email);
		if(result===false){
			msg += "Please enter a valid Email address\n";
			count +=1;
		}


		result = passwordlength(password1,password2);
		if(result===false){
			msg += "Please ensure that your password has a length of 5 at least\n";
			count +=1;
		}

		else{
			result = validatePassword(password1,password2);
			if(result===false){
			msg += "Please ensure that you enter the same password for both fields\n";
			count +=1;
		}
		}

		if (count>0){
			alert(msg)
		}
		else{
			alert("here")
			var success = writeUserData()
		}
		
	}

	function passwordlength(pw1,pw2){
		if (pw1.length <5){
			return false
		}
		return true
	}

	function validatePassword(pw1,pw2){
		if(pw1 !== pw2){
			return false
		}

		return true;
	}


	function ValidateEmail(mail) 
	{
	if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(mail))
	{
		return true
	}
		
		return false
	}



function checkPhoneNum(str){
	if(str[0] != "8"){
		if(str[0] != "9"){
			return false
}
	}
	if(str.length !=8){
		return false
	}
	return true;
}

function validateNRIC(str) {
    if (str.length != 9) 
        return false;

    str = str.toUpperCase();

    var i, 
        icArray = [];
    for(i = 0; i < 9; i++) {
        icArray[i] = str.charAt(i);
    }

    icArray[1] = parseInt(icArray[1], 10) * 2;
    icArray[2] = parseInt(icArray[2], 10) * 7;
    icArray[3] = parseInt(icArray[3], 10) * 6;
    icArray[4] = parseInt(icArray[4], 10) * 5;
    icArray[5] = parseInt(icArray[5], 10) * 4;
    icArray[6] = parseInt(icArray[6], 10) * 3;
    icArray[7] = parseInt(icArray[7], 10) * 2;

    var weight = 0;
    for(i = 1; i < 8; i++) {
        weight += icArray[i];
    }

    var offset = (icArray[0] == "T" || icArray[0] == "G") ? 4:0;
    var temp = (offset + weight) % 11;

    var st = ["J","Z","I","H","G","F","E","D","C","B","A"];
    var fg = ["X","W","U","T","R","Q","P","N","M","L","K"];

    var theAlpha;
    if (icArray[0] == "S" || icArray[0] == "T") { theAlpha = st[temp]; }
    else if (icArray[0] == "F" || icArray[0] == "G") { theAlpha = fg[temp]; }

    return (icArray[8] === theAlpha);
}




</script>


  
  


</body>
</html>