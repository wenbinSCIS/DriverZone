<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Welcome to the Discussion Forum</title>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" 
        crossorigin="anonymous">

        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

        <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"></script>
    
        <script src="../js/post2.js"></script>
    </head>
    
    <body>
        <div id="nav-placeholder"></div>

        <div class="container">
            <div class="row justify-content-center pt-1">
                <div class="col-12">
                    <div class="input-group">
                        <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
                        <button type="button" class="btn btn-outline-primary" id="search_button" onclick="search_for_post()">Search</button>
                        <button type="button" class="btn btn-outline-primary" id="add_post" onclick="add_new_post()">Add New Post</button>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center pt-3">
                <div class="col-1">
                    <h6>Sort by:</h6>
                </div>
                <div class="col-11"></div>

                <div class="col-12 pt-2">
                    <button type="button" class="btn btn-outline-success" id="newest_post" onclick="filter_newest()">Newest Post</button>
                    <button type="button" class="btn btn-outline-warning" id="top_post" onclick="filter_top()">Top Post</button>
                    <button type="button" class="btn btn-outline-danger" id="trending_post" onclick="filter_trending()">Trending Post</button>
                </div>
            </div>

            <div class="row justify-content-center pt-3">
                <div class="col-1">
                    <h6>Tag:</h6>
                </div>
                <div class="col-11"></div>

                <div class="col-12 pt-2">
                    <button type="button" class="btn btn-outline-info" id="theory_tag" onclick="select_theory()">Theory</button>
                    <button type="button" class="btn btn-outline-secondary" id="practical_tag" onclick="select_practical()">Practical</button>
                    <button type="button" class="btn btn-outline-warning" id="other_tag" onclick="select_other()">Other</button>
                </div>

                <div class="col-12 mt-2 pt-1">
                    <button type="button" class="btn btn-info" id="apply_sort" onclick="apply_sort()">Apply Tags and Sort the Post</button>
                    <button type="button" class="btn btn-danger" id="clear_sort" onclick="clear_sort()">Clear all</button>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row justify-content-center pt-2" id="info_here">
                
            </div>
        </div>

        

    
        <script>
            $(function()
            {
                $("#nav-placeholder").load("navbar.html");
            });

            var cur_filter=null
            var cur_tag=null

            newest_button = document.getElementById("newest_post")
            top_button = document.getElementById("top_post")
            trending_button = document.getElementById("trending_post")
            theory_button = document.getElementById("theory_tag")
            practical_button = document.getElementById("practical_tag")
            other_button = document.getElementById("other_tag")

            function search_for_post()
            {
                
            }

            function add_new_post()
            {
                location.href="add_post.html"
            }

            function filter_newest()
            {
                cur_filter="newest"
                newest_button.setAttribute("class","btn btn-success")
                top_button.setAttribute("class","btn btn-outline-warning")
                trending_button.setAttribute("class","btn btn-outline-danger")
            }

            function filter_top()
            {
                cur_filter="top"
                newest_button.setAttribute("class","btn btn-outline-success")
                top_button.setAttribute("class","btn btn-warning")
                trending_button.setAttribute("class","btn btn-outline-danger")
            }

            function filter_trending()
            {
                cur_filter="trending"
                newest_button.setAttribute("class","btn btn-outline-success")
                top_button.setAttribute("class","btn btn-outline-warning")
                trending_button.setAttribute("class","btn btn-danger")
            }

            function select_theory()
            {
                cur_tag="theory"
                theory_button.setAttribute("class","btn btn-info")
                practical_button.setAttribute("class","btn btn-outline-secondary")
                other_button.setAttribute("class","btn btn-outline-warning")
            }

            function select_practical()
            {
                cur_tag="practical"
                theory_button.setAttribute("class","btn btn-outline-info")
                practical_button.setAttribute("class","btn btn-secondary")
                other_button.setAttribute("class","btn btn-outline-warning")
            }

            function select_other()
            {
                cur_tag="other"
                theory_button.setAttribute("class","btn btn-outline-info")
                practical_button.setAttribute("class","btn btn-outline-secondary")
                other_button.setAttribute("class","btn btn-warning")
            }

            function apply_sort()
            {
                sessionStorage.setItem("cur_tag",cur_tag)
                sessionStorage.setItem("cur_filter",cur_filter)
                filter_and_sort()
            }
            function clear_sort()
            {
                sessionStorage.setItem("cur_tag","")
                sessionStorage.setItem("cur_filter","")

                newest_button.setAttribute("class","btn btn-outline-success")
                top_button.setAttribute("class","btn btn-outline-warning")
                trending_button.setAttribute("class","btn btn-outline-danger")

                theory_button.setAttribute("class","btn btn-outline-info")
                practical_button.setAttribute("class","btn btn-outline-secondary")
                other_button.setAttribute("class","btn btn-outline-warning")

                filter_and_sort()
            }

            function filter_and_sort()
            {
                var cur_tag=sessionStorage.getItem("cur_tag")
                var cur_filter=sessionStorage.getItem("cur_filter")
                get_all_post()
            }
        </script>
    </body>
</html>