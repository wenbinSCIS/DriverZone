<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile</title>
    <script type="text/javascript" src="http://gothere.sg/jsapi?sensor=false"> </script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<style>


  p{
    all: initial;
   
  }
  p{
    font-family: "Gill Sans", sans-serif;
  }
  .d{
    font-weight:bold;
  }
  .r{
    font-size:8px;
    color:grey;
    padding-left:5px;
  }
  .bus{
    font-weight:bold;
  }
  .form{
    width:100px;
  }
</style>
</head>
<body>
   
   
     
 
    <div id="nav-placeholder">

    </div>

    <div id = "container-flud">


      
    </div>
 


    <div id="container">
      <div class="row">
        <div class="col">
          <div id="map" style="width:800px;height:400px;"></div>
        </div>
        <div class="col">
          <div class="form-group row">
            <div class="col-xs-4">
              <label for="your_location" style="font-size:12px;">Your location</label>
              <input type="text" name="your_location" id="your_location" value="SMU" class="form-control">
            </div>
            <div class="col-xs-4">
              <label for="destination" style="font-size:12px;">Your Destination</label>
              <input type="text" name="destination" id="destination" value="Yishun" class="form-control">
            </div>

            <div class="col-xs-3">
              <label for="submitbtn" style="font-size:12px;"><br/></label>
              <input type="submit" name="submitbtn" id="submitbtn" value="Get Directions" onclick="getdir()" class="form-control">
              
            </div>
          </div>
          <div id="contain">

        

        </div>
      </div>
    </div>
<div>

    <div id="footer">

    </div>


   <script>
    gothere.load("maps");
    

  
            $(function(){
        $("#nav-placeholder").load("navbar.html");
        });
        $(function(){
        $("#footer").load("footer.html");
        });

      
        function initialize(loc,des) {
      if (GBrowserIsCompatible()) {
        // Create the Gothere map object.
        var map = new GMap2(document.getElementById("map"));
        // Set the center of the map.
        map.setCenter(new GLatLng(1.362083, 103.819836), 11);
        // Add zoom controls on the top left of the map.
        map.addControl(new GSmallMapControl());
        // Add a scale bar at the bottom left of the map.
        map.addControl(new GScaleControl());
        var directions = new GDirections(map, document.getElementById("panel"));
        GEvent.addListener(directions, "load", function() {
         getDirections(directions.getRoute(0).kC.Steps);
      });
        var options = {travelMode:G_TRAVEL_MODE_TRANSIT};
       
          directions.load("from:" + loc +" to:" + des, options);
          
    
      }
  }

        function getDirections(directionarray){
          var stepcounter = 1;
          var inp="";
          for(item of directionarray){
            
            inp += stepcounter + '. ' + item.descriptionHtml + '<br/><br/>';
  
            stepcounter +=1
          }
          contain = document.getElementById("contain");
          contain.innerHTML = inp;
          
        }
  //your code here
  function getdir(){
    
    
          var loc = document.getElementById("your_location").value;
          var des = document.getElementById("destination").value;
          initialize(loc,des)
    }
    



</script>




<script type="text/javascript">



function firstmap(loc,des) {
      if (GBrowserIsCompatible()) {
        // Create the Gothere map object.
        var map = new GMap2(document.getElementById("map"));
        // Set the center of the map.
        map.setCenter(new GLatLng(1.362083, 103.819836), 11);
        // Add zoom controls on the top left of the map.
        map.addControl(new GSmallMapControl());
        // Add a scale bar at the bottom left of the map.
        map.addControl(new GScaleControl());
        var directions = new GDirections(map, document.getElementById("panel"));
        GEvent.addListener(directions, "load", function() {
         getDirections(directions.getRoute(0).kC.Steps);
      });
        var options = {travelMode:G_TRAVEL_MODE_TRANSIT};
       
          directions.load("from:" + loc +" to:" + des, options);
          
    
      }
  }
    gothere.setOnLoadCallback(firstmap("SMU","Yishun"))


</script>




    
</body>
</html>